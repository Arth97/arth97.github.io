---
import { Image } from 'astro:assets';
const {
  title,
  description,
  techIcon = [],
  image,
  alt,
  codeLink = "#",
  demoLink = "#",
  category = "all"
} = Astro.props;
---

<div class="project-card" data-category={category}>
  <div class="project-image">
    <img src={image} alt={alt} />
    <div class="project-overlay">
      <div class="project-links">
        <a href={codeLink} class="project-link" title="Ver cÃ³digo" target="_blank" rel="noopener">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
						<path fill-rule="evenodd" d="M14.447 3.026a.75.75 0 0 1 .527.921l-4.5 16.5a.75.75 0 0 1-1.448-.394l4.5-16.5a.75.75 0 0 1 .921-.527ZM16.72 6.22a.75.75 0 0 1 1.06 0l5.25 5.25a.75.75 0 0 1 0 1.06l-5.25 5.25a.75.75 0 1 1-1.06-1.06L21.44 12l-4.72-4.72a.75.75 0 0 1 0-1.06Zm-9.44 0a.75.75 0 0 1 0 1.06L2.56 12l4.72 4.72a.75.75 0 0 1-1.06 1.06L.97 12.53a.75.75 0 0 1 0-1.06l5.25-5.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
					</svg>					
        </a>
        <a href={demoLink} class="project-link" title="Ver demo" target="_blank" rel="noopener">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
						<path fill-rule="evenodd" d="M2.25 5.25a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3V15a3 3 0 0 1-3 3h-3v.257c0 .597.237 1.17.659 1.591l.621.622a.75.75 0 0 1-.53 1.28h-9a.75.75 0 0 1-.53-1.28l.621-.622a2.25 2.25 0 0 0 .659-1.59V18h-3a3 3 0 0 1-3-3V5.25Zm1.5 0v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5Z" clip-rule="evenodd" />
					</svg>					
        </a>
      </div>
    </div>
  </div>
  <div class="project-content">
    <h3 class="project-title">{title}</h3>
    <p class="project-description">{description}</p>
    <div class="project-tech">
      {techIcon.map((t: any) => (
				<Image src={`https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/${t}/${t}-original.svg`} alt={`${t}`} loading="eager" width="35" height="35" /> 
      ))}
    </div>
  </div>
</div>

<style>
	.project-card {
		background: white;
		border-radius: 1rem;
		overflow: hidden;
		box-shadow: var(--shadow-md);
		transition: all 0.3s ease;
	}

	.project-card:hover {
		transform: translateY(-8px);
		box-shadow: var(--shadow-xl);
	}

	.project-image {
		position: relative;
		height: 200px;
		overflow: hidden;
	}

	.project-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: transform 0.3s ease;
	}

	.project-card:hover .project-image img {
		transform: scale(1.05);
	}

	.project-overlay {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(0, 0, 0, 0.8);
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.project-card:hover .project-overlay {
		opacity: 1;
	}

	.project-links {
		display: flex;
		gap: 1.5rem;
	}

	.project-link {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 4rem;
		height: 4rem;
		background: white;
		color: var(--color-primary);
		border-radius: 50%;
		text-decoration: none;
		transition: all 0.3s ease;
	}

	.project-link:hover {
		background: var(--color-secondary);
		color: white;
		transform: scale(1.1);
	}

	.project-content {
		padding: 2rem;
	}

	.project-title {
		font-size: 1.5rem;
		font-weight: 600;
		color: var(--color-primary);
		margin-bottom: 1rem;
	}

	.project-description {
		color: var(--color-text-light);
		line-height: 1.6;
		margin-bottom: 1.5rem;
	}

	.project-tech {
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
	}

	.tech-tag {
		background: var(--color-surface);
		color: var(--color-secondary);
		padding: 0.25rem 0.75rem;
		border-radius: 1rem;
		font-size: 0.875rem;
		font-weight: 500;
	}

	@media (max-width: 768px) {
		.project-content {
			padding: 1.5rem;
		}
	}
</style>