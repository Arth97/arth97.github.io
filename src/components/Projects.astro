---
import { Image } from 'astro:assets';
import Card from './Card.astro';
import DZCard from './DZCard.astro';
const { t } = Astro.props;

const projects = [
  {
    title: "Country Page - WorldRanks",
    description: t.projects.descriptions.countryPageWorldRanks,
    techIcon: ["react", "javascript", "tailwindcss", "css3", "html5"],
    image: "/country-page-worldrank.png",
    alt: "Country Page - WorldRanks",
    codeLink: "https://github.com/Arth97/devchallenge-country-page-worldRanks",
    demoLink: "https://arth97.github.io/devChallenge-country-page-worldRanks",
    category: "devchallenges"
  },
  {
    title: "Country Quiz",
    description: t.projects.descriptions.countryQuiz,
    techIcon: ["react", "javascript", "tailwindcss", "css3", "html5"],
    image: "/country-quiz.png",
    alt: "Country Quiz",
    codeLink: "https://github.com/Arth97/devchallenge-country-quiz",
    demoLink: "https://arth97.github.io/devchallenge-country-quiz",
    category: "devchallenges"
  },
  {
    title: "REST Countries API",
    description: t.projects.descriptions.restCountriesApi,
    techIcon: ["react", "javascript", "tailwindcss", "css3", "html5"],
    image: "/countries-color-theme.png",
    alt: "REST Countries API",
    codeLink: "https://github.com/Arth97/frontendmentor-countries-page-color-theme-switcher",
    demoLink: "https://arth97.github.io/frontendmentor-countries-page-color-theme-switcher",
    category: "frontendmentor"
  },
  {
    title: "GitHub Profile",
    description: t.projects.descriptions.githubProfile,
    techIcon: ["react", "javascript", "tailwindcss", "css3", "html5"],
    image: "/github-profile.png",
    alt: "GitHub Profile",
    codeLink: "https://github.com/Arth97/devChallenge-github-profile",
    demoLink: "https://arth97.github.io/devChallenge-github-profile",
    category: "devchallenges"
  },
	{
    title: "Time Tracking Dashboard",
    description: t.projects.descriptions.timeTrackingDashboard,
    techIcon: ["react", "javascript", "tailwindcss", "css3", "html5"],
    image: "/time-tracking-dashboard.png",
    alt: "Time Tracking Dashboard",
    codeLink: "https://github.com/Arth97/frontendmentor-time-tracking-dashboard",
    demoLink: "https://arth97.github.io/frontendmentor-time-tracking-dashboard",
    category: "frontendmentor"
  },
  {
    title: "My Task Board",
    // description: "üîß Aplicaci√≥n full-stack con Next.Js para gestionar tareas con funciones CRUD v√≠a HTTP (GET, POST, PUT, DELETE) y gesti√≥n de estados con persistencia en DB.",
    description: t.projects.descriptions.myTaskBoard,
    techIcon: ["nextjs", "react", "typescript", "supabase", "postgresql", "nodejs", "tailwindcss", "css3", "html5"],
    image: "/task-board.png",
    alt: "Task Board",
    codeLink: "https://github.com/Arth97/devchallenge-my-task-board",
    demoLink: "https://devchallenge-my-task-board.vercel.app",
    category: "devchallenges"
  },
  {
    title: "Simple Coffee Listing",
    description: t.projects.descriptions.simpleCoffeeListing,
    techIcon: ["react", "javascript", "tailwindcss", "css3", "html5"],
    image: "/coffee-listing.png",
    alt: "Simple Coffee Listing",
    codeLink: "https://github.com/Arth97/devChallenge-simple-coffee-listing",
    demoLink: "https://arth97.github.io/devChallenge-simple-coffee-listing",
    category: "devchallenges"
  },
	{
    title: "Guess The Word Game",
    description: t.projects.descriptions.guessTheWordGame,
    techIcon: ["javascript", "tailwindcss", "css3", "html5"],
    image: "/guess-the-word.png",
    alt: "Guess The Word Game",
    codeLink: "https://github.com/Arth97/devChallenge-guess-the-word",
    demoLink: "https://arth97.github.io/devChallenge-guess-the-word",
    category: "devchallenges"
  },
	{
    title: "Music Player",
    description: t.projects.descriptions.musicPlayer,
    techIcon: ["javascript", "tailwindcss", "css3", "html5"],
    image: "/music-player.png",
    alt: "Music Player",
    codeLink: "https://github.com/Arth97/devChallenge-music-player",
    demoLink: "https://arth97.github.io/devChallenge-music-player",
    category: "devchallenges"
  },
	{
    title: "Multi-step Register Form",
    description: t.projects.descriptions.multistepRegisterForm,
    techIcon: ["javascript", "tailwindcss", "css3", "html5"],
    image: "/register-form.png",
    alt: "Multi-step Register Form",
    codeLink: "https://github.com/Arth97/devChallenge-multistep-register-form",
    demoLink: "https://arth97.github.io/devChallenge-multistep-register-form",
    category: "devchallenges"
  },
	{
    title: "Device Shop Checkout",
    description: t.projects.descriptions.deviceShopCheckout,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/device-shop-checkout.png",
    alt: "Device Shop Checkout",
    codeLink: "https://github.com/Arth97/devChallenge-device-shop-checkout",
    demoLink: "https://arth97.github.io/devChallenge-device-shop-checkout",
    category: "devchallenges"
  },
	{
    title: "Contact Page",
    description: t.projects.descriptions.contactPage,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/contact-page.png",
    alt: "Contact Page",
    codeLink: "https://github.com/Arth97/devChallenge-contact-page",
    demoLink: "https://arth97.github.io/devChallenge-contact-page",
    category: "devchallenges"
  },
	{
    title: "Meet the Team Section",
    description: t.projects.descriptions.meetTheTeamSection,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/meet-the-team.png",
    alt: "Meet the Team Section",
    codeLink: "https://github.com/Arth97/devChallenge-meet-the-team-section",
    demoLink: "https://arth97.github.io/devChallenge-meet-the-team-section",
    category: "devchallenges"
  },
	{
    title: "Business Blog Card",
    description: t.projects.descriptions.businessBlogCard,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/business-blog.png",
    alt: "Business Blog Card",
    codeLink: "https://github.com/Arth97/devChallenge-business-blog-card",
    demoLink: "https://arth97.github.io/devChallenge-business-blog-card",
    category: "devchallenges"
  },
	{
    title: "Simple Feature Section",
    description: t.projects.descriptions.simpleFeatureSection,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/feature-section.png",
    alt: "Simple Feature Section",
    codeLink: "https://github.com/Arth97/devChallenge-feature-section",
    demoLink: "https://arth97.github.io/devChallenge-feature-section",
    category: "devchallenges"
  },
	{
    title: "Testimonial Page",
    description: t.projects.descriptions.testimonialPage,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/testimonial-page.png",
    alt: "Testimonial Page",
    codeLink: "https://github.com/Arth97/devChallenge-testimonial-page",
    demoLink: "https://arth97.github.io/devChallenge-testimonial-page",
    category: "devchallenges"
  },
	{
    title: "Article Listing",
    description: t.projects.descriptions.articleListing,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/article-listing.png",
    alt: "Article Listing",
    codeLink: "https://github.com/Arth97/devChallenge-article-listing",
    demoLink: "https://arth97.github.io/devChallenge-article-listing",
    category: "devchallenges"
  },
	{
    title: "Join Our Newsletter",
    description: t.projects.descriptions.joinOurNewsletter,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/newsletter.png",
    alt: "Join Our Newsletter",
    codeLink: "https://github.com/Arth97/devChallenge-join-newsletter",
    demoLink: "https://arth97.github.io/devChallenge-join-newsletter",
    category: "devchallenges"
  },
	{
    title: "Minimal Blog Card",
    description: t.projects.descriptions.minimalBlogCard,
		techIcon: ["tailwindcss", "css3", "html5"],
    image: "/minimal-blog-card.png",
    alt: "Minimal Blog Card",
    codeLink: "https://github.com/Arth97/devChallenge-minimal-blog-card",
    demoLink: "https://arth97.github.io/devChallenge-minimal-blog-card",
    category: "devchallenges"
  },
	{
    title: "Simple Frequently Asked Questions (FAQ)",
    description: t.projects.descriptions.simpleFaq,
		techIcon: ["tailwindcss", "css3", "html5"],
    image: "/faq.png",
    alt: "Simple Frequently Asked Questions (FAQ)",
    codeLink: "https://github.com/Arth97/devChallenge-FAQ",
    demoLink: "https://arth97.github.io/devChallenge-FAQ",
    category: "devchallenges"
  },
	{
    title: "Contact Form",
    description: t.projects.descriptions.contactForm,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/contact-form-mentor.png",
    alt: "Contact Form",
    codeLink: "https://github.com/Arth97/frontendmentor-contact-form",
    demoLink: "https://arth97.github.io/frontendmentor-contact-form",
    category: "frontendmentor"
  },
	{
    title: "Social Links Profile",
    description: t.projects.descriptions.socialLinksProfile,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/social-links-profile.png",
    alt: "Social Links Profile",
    codeLink: "https://github.com/Arth97/frontendmentor-social-links-profile",
    demoLink: "https://arth97.github.io/frontendmentor-social-links-profile",
    category: "frontendmentor"
  },
	{
    title: "Blog Preview Card",
    description: t.projects.descriptions.blogPreviewCard,
    techIcon: ["tailwindcss", "css3", "html5"],
    image: "/blog-preview-card-mentor.png",
    alt: "Blog Preview Card",
    codeLink: "https://github.com/Arth97/frontendmentor-blog-preview-card",
    demoLink: "https://arth97.github.io/frontendmentor-blog-preview-card",
    category: "frontendmentor"
  },
	// {
  //   title: "TEMPLATE",
  //   description: "",
  //   image: "/",
  //   alt: "TEMPLATE",
  //   codeLink: "https://github.com/Arth97/TEMPLATE",
  //   demoLink: "https://arth97.github.io/TEMPLATE",
  //   category: "TEMPLATE"
  // }
];
---

<section id="projects" class="section">
	<div class="container">
		<h2 class="section-title">{t.projects.title}</h2>
		<div class="project-filter">
			<!-- <button class="btn btn-outline btn-active filter-btn-content" data-filter="all">{t.projects.filterAll}</button> -->

			<button class="btn btn-outline btn-active" data-filter="dzeditor">
				<span class="filter-btn-content">
					<img src="/dz.png" alt="DZ Editor" width="20" height="20" />
					 DZ Editor
				</span>
			</button>

			<button class="btn btn-outline" data-filter="devchallenges">
				<span class="filter-btn-content">
					<img src="/devchallenges.png" alt="DevChallenge" width="20" height="20" />
					 DevChallenges
				</span>
			</button>

			<button class="btn btn-outline" data-filter="frontendmentor">
				<span class="filter-btn-content">
					<img src="/frontendmentor.png" alt="Frontend Mentor" width="20" height="20" />
					 Frontend Mentor
				</span>				
			</button>
		</div>
    <DZCard t={t} />
		<div class="projects-grid">
			{projects.map(project => (
				<Card
					title={project.title}
					description={project.description}
					techIcon={project.techIcon}
					image={project.image}
					alt={project.alt}
					codeLink={project.codeLink}
					demoLink={project.demoLink}
					category={project.category}
				/>
			))}
		</div>
	</div>
</section>

<style>
	.section {
		background: var(--color-background);
	}

	.project-filter {
		display: flex;
		justify-content: center;
		gap: 1rem;
		margin-bottom: 2.5rem;
	}

	.project-filter .btn {
		padding: 0.25rem 0.75rem;
	}

	.filter-btn {
		padding: 0.5rem 1.25rem;
		border-radius: 2rem;
		border: 1px solid var(--color-primary);
		background: transparent;
		color: var(--color-text);
		font-size: 0.9rem;
		font-weight: 500;
		transition: all 0.3s ease;
		cursor: pointer;
		&.active {
			background: var(--color-secondary);
			color: var(--color-on-primary);
		}
	}

	@media (hover: hover) {
		.filter-btn:hover {
			background: rgba(var(--color-primary-rgb), 0.1);
		}
	}

	.filter-btn-content {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		font-size: medium;
		font-weight: 500;
	}

	.projects-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
		gap: 2rem;
	}
  

	@media (max-width: 768px) {
		.projects-grid {
			grid-template-columns: 1fr;
		}
	}
	@media (max-width: 576px) {
		.filter-btn-content {
			font-size: small;
		}
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const buttons = document.querySelectorAll('.project-filter [data-filter]');
		const cards = document.querySelectorAll('#projects .project-card');

		function applyFilter(filter: any) {
			cards.forEach((card: any) => {
				const category = card.getAttribute('data-category');
				const show = filter === 'all' || category === filter;
				card.style.display = show ? '' : 'none';
			});
		}

		buttons.forEach(btn => {
			btn.addEventListener('click', () => {
				const filter = btn.getAttribute('data-filter');
				const isActive = btn.classList.contains('btn-active');

				if (isActive) {
					buttons.forEach(b => b.classList.remove('btn-active'));
					applyFilter('all');
				} else {
					buttons.forEach(b => b.classList.remove('btn-active'));
					btn.classList.add('btn-active');
					applyFilter(filter);
				}
			});
		});

		const initial = document.querySelector('.project-filter .btn-active')?.getAttribute('data-filter') || 'dzeditor';
		applyFilter(initial);
	});
</script>